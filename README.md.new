# ğŸ“ ScrapingProfesNomadas

Sistema automatizado para aplicaciones educativas que combina scraping web, generaciÃ³n de emails con IA y bot de Telegram.

## ğŸš€ CaracterÃ­sticas

- **Bot de Telegram** - Interfaz interactiva para recolecciÃ³n de datos
- **Scraping automatizado** - Extrae ofertas de educationposts.ie
- **AutenticaciÃ³n integrada** - Sistema de login para acceso completo a las ofertas
- **GeneraciÃ³n AI de emails** - Emails personalizados con OpenAI/Anthropic
- **Soporte Excel** - GestiÃ³n de perfiles y plantillas
- **EnvÃ­o automÃ¡tico** - SMTP para aplicaciones

## ğŸ“ Estructura del Proyecto

```
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/           # AplicaciÃ³n principal
â”‚   â”œâ”€â”€ bots/           # Bots de Telegram
â”‚   â”œâ”€â”€ scrapers/       # MÃ³dulos de scraping
â”‚   â”œâ”€â”€ generators/     # Generadores de emails y contenido
â”‚   â””â”€â”€ utils/          # Utilidades y herramientas
â”œâ”€â”€ tests/              # Tests y pruebas del sistema
â”œâ”€â”€ data/               # Datos y resultados del scraping
â””â”€â”€ config/             # ConfiguraciÃ³n y scripts de instalaciÃ³n
```

## ğŸ“‹ Requisitos

- Python 3.8+
- Paquetes necesarios en `requirements.txt`
- Archivo `.env` con las variables de entorno necesarias

## ğŸ”‘ ConfiguraciÃ³n

Crea un archivo `.env` en la raÃ­z del proyecto con las siguientes variables:

```
# Credenciales de EducationPosts.ie
EDUCATIONPOSTS_USERNAME=tu_usuario@email.com
EDUCATIONPOSTS_PASSWORD=tu_contraseÃ±a

# Otras credenciales necesarias
TELEGRAM_BOT_TOKEN=123456:ABC-DEF...
OPENAI_API_KEY=sk-...
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=tu_email@gmail.com
EMAIL_PASSWORD=tu_contraseÃ±a_app
```

## ğŸ› ï¸ InstalaciÃ³n

```bash
# Clonar el repositorio
git clone https://github.com/tu-usuario/ScrapingProfesNomadas.git
cd ScrapingProfesNomadas

# Crear entorno virtual
python -m venv venv
source venv/bin/activate  # En Windows: venv\Scripts\activate

# Instalar dependencias
pip install -r requirements.txt
```

## ğŸ–¥ï¸ Uso

### Scraper con autenticaciÃ³n

Extraer ofertas de trabajo con autenticaciÃ³n:

```bash
# Ejecutar con todas las opciones
python extract_jobs.py --nivel primary --condado 4 --paginas 5 --workers 6

# Ejecutar sin autenticaciÃ³n
python extract_jobs.py --sin-login

# Ejecutar con credenciales proporcionadas directamente
python extract_jobs.py --usuario "email@ejemplo.com" --password "contraseÃ±a"

# Ejecutar en modo debug
python extract_jobs.py --debug
```

### Tests y herramientas

```bash
# Probar login
python tests/test_login.py

# Probar paginaciÃ³n
python tests/test_paginacion.py --paginas 2

# Probar extracciÃ³n de URLs
python tests/test_scraper_url.py
```

### Ejecutar el sistema completo

```bash
python run.py
```

## ğŸ“Š Estructura de datos

Las ofertas extraÃ­das tienen el siguiente formato:

```json
{
  "url": "https://www.educationposts.ie/post/view/123456",
  "id": "123456",
  "school": "St. Mary's School",
  "vacancy": "Special Needs Assistant",
  "status": "Permanent",
  "county": "Cork",
  "deadline": "27/06/2025",
  "email": "contact@school.ie"
}
```

## ğŸ“ Notas

- Las credenciales de login estÃ¡n configuradas en el archivo `.env`
- El sistema utiliza cookies de sesiÃ³n para mantener la autenticaciÃ³n
- Se recomienda no establecer un nÃºmero muy alto de workers para evitar bloqueos
- Las ofertas extraÃ­das se guardan en formato JSON en la carpeta `data/`
